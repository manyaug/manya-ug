<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Manya | P7 Prep Hub</title>

    <!-- Core Dependencies -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --manya-purple: #7c3aed;
            --manya-purple-light: #ede9fe;
            --manya-pink: #db2777;
            --manya-pink-light: #fce7f3;
            --manya-green: #059669;
            --manya-bg: #f8fafc;
            --text-dark: #0f172a;
            --text-light: #64748b;
            --sidebar-width: 320px;
            
            /* Global Engine Theme Variables */
            --axial-color: #ef4444;
            --appendicular-color: #3b82f6;
            --quiz-color: #f59e0b;
            --success-color: #22c55e;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            margin: 0; background: var(--manya-bg); color: var(--text-dark);
            height: 90vh; display: grid; grid-template-columns: var(--sidebar-width) 1fr;
            overflow: hidden;
        }

        /* --- SIDEBAR NAVIGATION --- */
        aside {
            background: #ffffff;
            border-right: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow-y: auto;
            position: relative;
            z-index: 1001;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        aside::-webkit-scrollbar { width: 5px; }
        aside::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }

        .logo { 
            padding: 24px;
            font-size: 28px; font-weight: 800; color: var(--manya-purple); 
            letter-spacing: -1.5px; cursor: pointer;
            display: flex; align-items: center; gap: 8px;
        }
        .logo span { color: var(--text-dark); }

        .dev-badge {
            font-size: 9px; background: #fee2e2; color: #ef4444;
            padding: 2px 8px; border-radius: 10px; font-weight: 800;
            text-transform: uppercase; margin-left: 10px;
        }

        /* SUBJECT HEADERS */
        /* --- SUBJECT HEADERS (Collapsible) --- */
.subject-wrapper {
    margin-bottom: 10px;
}

.subject-header {
    font-size: 11px; 
    font-weight: 800; 
    letter-spacing: 1px;
    padding: 16px 20px; 
    text-transform: uppercase; 
    border-bottom: 1px solid #f1f5f9;
    cursor: pointer;
    display: flex; 
    justify-content: space-between; 
    align-items: center;
    background: white;
    transition: background 0.2s;
}

.subject-header:hover {
    background: #f8fafc;
}

.subject-chevron {
    font-size: 10px; 
    transition: transform 0.3s ease;
    opacity: 0.5;
}

/* State: Open (Default) */
.subject-header.open .subject-chevron {
    transform: rotate(180deg);
}

/* Content Container */
.subject-content-body {
    display: none; /* Hidden by default */
    padding-top: 5px;
}

.subject-header.open + .subject-content-body {
    display: block; /* Show when header has 'open' class */
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

        /* COLLAPSIBLE ACCORDION */
        .nav-container { padding: 0 16px 40px 16px; }
        .nav-group { margin-bottom: 8px; border-radius: 12px; overflow: hidden; background: transparent; transition: 0.3s; }
        .nav-group.open { background: #f8fafc; padding-bottom: 8px; }
        
        .nav-header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 14px 16px; cursor: pointer; border-radius: 12px;
            transition: 0.2s;
        }
        .nav-header:hover { background: #f1f5f9; }
        .nav-group.open .nav-header { background: var(--manya-purple-light); }
        
        .nav-label { font-size: 13px; font-weight: 700; color: var(--text-dark); }
        .nav-group.open .nav-label { color: var(--manya-purple); }

        .chevron { font-size: 10px; transition: transform 0.3s; color: #94a3b8; }
        .nav-group.open .chevron { transform: rotate(180deg); color: var(--manya-purple); }

        .nav-content { display: none; flex-direction: column; padding: 4px 8px; gap: 2px; }
        .nav-group.open .nav-content { display: flex; }

        .quest-btn {
            display: flex; align-items: center; width: 100%; padding: 10px 16px;
            background: transparent; border: none; border-radius: 10px;
            text-align: left; font-weight: 600; font-size: 13px;
            cursor: pointer; color: var(--text-light); transition: 0.2s;
        }
        .quest-btn:hover { background: #ffffff; color: var(--manya-purple); transform: translateX(4px); }
        .quest-btn.active { background: var(--manya-purple); color: white !important; box-shadow: 0 4px 12px rgba(124, 58, 237, 0.25); }

        hr { border: 0; border-top: 1px solid #e2e8f0; margin: 8px 0; opacity: 0.5; }

        /* --- MAIN VIEWPORT --- */
        main { display: flex; flex-direction: column; overflow: hidden; position: relative; background: white; }
        
        header { 
            background: white; padding: 14px 24px; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 1px solid #e2e8f0; height: 64px;
        }

        #view-mount { flex-grow: 1; overflow-y: auto; position: relative; display: flex; flex-direction: column; }

        /* --- INTRO / SPLASH SCREEN --- */
        .manya-intro {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100%; text-align: center; background: white; padding: 40px;
            animation: fadeIn 0.8s ease-out;
        }

        .manya-intro .icon-box {
            width: 80px; height: 80px; background: var(--manya-purple); 
            border-radius: 24px; margin-bottom: 24px; display: flex;
            align-items: center; justify-content: center; color: white;
            font-size: 40px; font-weight: 800;
            box-shadow: 0 20px 40px rgba(124, 58, 237, 0.3);
            animation: float 3s ease-in-out infinite;
        }

        .manya-intro h1 { font-size: 32px; font-weight: 800; margin: 0; color: var(--text-dark); letter-spacing: -1px; }
        .manya-intro p { font-size: 16px; color: var(--text-light); margin-top: 8px; }

        /* --- MOBILE OVERLAYS & CONTROLS --- */
        .sidebar-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(15, 23, 42, 0.4); backdrop-filter: blur(4px);
            z-index: 1000; opacity: 0; pointer-events: none; transition: 0.3s;
        }
        body.sidebar-open .sidebar-overlay { opacity: 1; pointer-events: auto; }

        .mobile-toggle { 
            display: none; background: #f1f5f9; color: var(--text-dark); 
            border: none; width: 40px; height: 40px; border-radius: 10px; 
            font-size: 20px; cursor: pointer;
        }

        @media (max-width: 900px) {
            body { grid-template-columns: 1fr; }
            aside { position: fixed; left: 0; transform: translateX(-100%); width: 290px; }
            body.sidebar-open aside { transform: translateX(0); }
            .mobile-toggle { display: flex; align-items: center; justify-content: center; }
            header { padding: 0 16px; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .manya-loader { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; opacity: 0.6; }
    </style>
</head>
<body>

    <div class="sidebar-overlay" id="overlay" onclick="toggleSidebar()"></div>

    <!-- NAVIGATION SIDEBAR -->
    <aside id="sidebar">
    <div class="logo" onclick="location.reload()">Manya_mpy<span>.p7</span> <span class="dev-badge">Dev</span></div>

    <div class="nav-container">
        
        <!-- ========================== -->
        <!-- üìê MATHEMATICS (WRAPPER)   -->
        <!-- ========================== -->
        <div class="subject-wrapper">
    <!-- Header with toggle -->
    <div class="subject-header open" onclick="toggleSubject(this)" style="color:var(--manya-pink);">
        <span>Mathematics</span>
        <span class="subject-chevron">‚ñº</span>
    </div>
    
    <!-- Body (Hidden when closed) -->
    <div class="subject-content-body">
        
        <!-- Quest 1 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 1: Finite vs Infinite Sets</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-001', this)">01-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-002', this)">01-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-003', this)">01-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-004', this)">01-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-005', this)">01-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-006', this)">01-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-007', this)">01-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-008', this)">01-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-009', this)">01-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_01_finite_&_infinite_sets', '01-010', this)">01-010</button>

            </div>
        </div>

        <!-- Quest 2 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 2: Set Notation & Regions</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-001', this)">üé® 02-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-002', this)">üé® 02-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-003', this)">üé® 02-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-004', this)">üé® 02-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-005', this)">üé® 02-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-006', this)">üé® 02-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-007', this)">üé® 02-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-008', this)">üé® 02-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-009', this)">üé® 02-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-010', this)">üé® 02-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-011', this)">üé® 02-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-012', this)">üé® 02-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-013', this)">üé® 02-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-014', this)">üé® 02-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-015', this)">üé® 02-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-016', this)">üé® 02-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-017', this)">üé® 02-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-018', this)">üé® 02-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-019', this)">üé® 02-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_02_set_notation_&_regions', '02-020', this)">üé® 02-020</button>


            </div>
        </div>

        <!-- Quest 3 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 3: Calculating Subsets</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-001', this)">03-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-002', this)">03-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-003', this)">03-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-004', this)">03-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-005', this)">03-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-006', this)">03-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-007', this)">03-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-008', this)">03-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-009', this)">03-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_03_calculating_subsets', '03-010', this)">03-010</button>

            </div>
        </div>

        <!-- Quest 4 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 4: Calculating Proper Subsets</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-001', this)">04-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-002', this)">04-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-003', this)">04-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-004', this)">04-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-005', this)">04-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-006', this)">04-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-007', this)">04-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-008', this)">04-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-009', this)">04-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_04_calculating_proper_subsets', '04-010', this)">04-010</button>

            </div>
        </div>

        <!-- Quest 5 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 5: Working Backwards</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-001', this)">05-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-002', this)">05-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-003', this)">05-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-004', this)">05-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-005', this)">05-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-006', this)">05-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-007', this)">05-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-008', this)">05-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-009', this)">05-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-010', this)">05-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-011', this)">05-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-012', this)">05-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-013', this)">05-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-014', this)">05-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-015', this)">05-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-016', this)">05-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-017', this)">05-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-018', this)">05-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-019', this)">05-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_05_working_backwards', '05-020', this)">05-020</button>


            </div>
        </div>

        <!-- Quest 6 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 6: Placing Info on Venn Diagrams</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-001', this)">06-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-002', this)">06-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-003', this)">06-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-004', this)">06-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-005', this)">06-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-006', this)">06-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-007', this)">06-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-008', this)">06-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-009', this)">06-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-010', this)">06-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-011', this)">06-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-012', this)">06-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-013', this)">06-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-014', this)">06-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-015', this)">06-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-016', this)">06-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-017', this)">06-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-018', this)">06-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-019', this)">06-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-020', this)">06-020</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-021', this)">06-021</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-022', this)">06-022</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-023', this)">06-023</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-024', this)">06-024</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-025', this)">06-025</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-027', this)">06-027</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-028', this)">06-028</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-029', this)">06-029</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_06_placing_info_on_venn_diagrams', '06-030', this)">06-030</button>

            </div>
        </div>

        <!-- Quest 7 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 7: Solving for Unknowns</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-001', this)">07-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-002', this)">07-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-003', this)">07-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-004', this)">07-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-005', this)">07-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-006', this)">07-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-007', this)">07-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-008', this)">07-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-009', this)">07-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-010', this)">07-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-011', this)">07-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-012', this)">07-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-013', this)">07-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-014', this)">07-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-015', this)">07-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-016', this)">07-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-017', this)">07-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-018', this)">07-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-019', this)">07-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-020', this)">07-020</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-021', this)">07-021</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-022', this)">07-022</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-023', this)">07-023</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-024', this)">07-024</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-025', this)">07-025</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-026', this)">07-026</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-027', this)">07-027</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-028', this)">07-028</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_07_solving_for_unknowns', '07-029', this)">07-029</button>

            </div>
        </div>

        <!-- Quest 8 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 8: Application of Sets</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-001', this)">08-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-002', this)">08-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-003', this)">08-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-004', this)">08-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-005', this)">08-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-006', this)">08-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-007', this)">08-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-008', this)">08-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-009', this)">08-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-010', this)">08-11</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-011', this)">08-11</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-012', this)">08-12</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-013', this)">08-13</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-014', this)">08-14</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-015', this)">08-15</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-016', this)">08-16</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-017', this)">08-17</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-018', this)">08-18</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-019', this)">08-19</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-020', this)">08-20</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-021', this)">08-021</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-022', this)">08-022</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-023', this)">08-023</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_08_application_of_sets', '08-024', this)">08-024</button>
            </div>
        </div>

        <!-- Quest 9 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 9: Difference & Complements</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-001', this)">09-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-002', this)">09-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-003', this)">09-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-004', this)">09-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-005', this)">09-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-006', this)">09-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-007', this)">09-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-008', this)">09-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-009', this)">09-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-010', this)">09-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-011', this)">09-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-012', this)">09-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-013', this)">09-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-014', this)">09-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-015', this)">09-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-016', this)">09-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-017', this)">09-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-018', this)">09-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-019', this)">09-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-020', this)">09-020</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-021', this)">09-021</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-022', this)">09-022</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-023', this)">09-023</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-024', this)">09-024</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-025', this)">09-025</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-026', this)">09-026</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-027', this)">09-027</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-028', this)">09-028</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_09_difference_of_sets_&_complements', '09-029', this)">09-029</button>


            </div>
        </div>

        <!-- Quest 10 -->
        <div class="nav-group">
            <div class="nav-header" onclick="toggleSection(this)">
                <span class="nav-label">Topic 10: Probability using Venn Diagrams</span>
                <span class="chevron">‚ñº</span>
            </div>
            <div class="nav-content">
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-001', this)">10-001</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-002', this)">10-002</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-003', this)">10-003</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-004', this)">10-004</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-005', this)">10-005</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-006', this)">10-006</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-007', this)">10-007</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-008', this)">10-008</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-009', this)">10-009</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-010', this)">10-010</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-011', this)">10-011</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-012', this)">10-012</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-013', this)">10-013</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-014', this)">10-014</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-015', this)">10-015</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-016', this)">10-016</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-017', this)">10-017</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-018', this)">10-018</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-019', this)">10-019</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-020', this)">10-020</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-021', this)">10-021</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-022', this)">10-022</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-023', this)">10-023</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-024', this)">10-024</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-025', this)">10-025</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-026', this)">10-026</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-027', this)">10-027</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-028', this)">10-028</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-029', this)">10-029</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-030', this)">10-030</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-031', this)">10-031</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-032', this)">10-032</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-033', this)">10-033</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-034', this)">10-034</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-035', this)">10-035</button>
                <button class="quest-btn" onclick="ManyaRouter.load('math/set_theory', 'quest_10_probability_using_venn_diagrams', '10-036', this)">10-036</button>
            </div>
        </div>

    </div>
</div>

        <!-- ========================== -->
        <!-- üß¨ SCIENCE (WRAPPER)       -->
        <!-- ========================== -->
        <div class="subject-wrapper">
            <div class="subject-header open" onclick="toggleSubject(this)" style="color:var(--manya-purple);">
                <span>Science</span>
                <span class="subject-chevron">‚ñº</span>
            </div>

            <div class="subject-content-body">
                <!-- TOPIC 1 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 1: Skeleton Types</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_1_Types_of_Skeletons', 'sc7_musklo-skeletal_q1', this)">üêõ Growth Simulation</button>
                    </div>
                </div>

                <!-- TOPIC 2 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 2: Overview</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_2_human_skeleton', 'study_sim', this)">üìñ Learn: Overview</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_2_human_skeleton', 'labeling_v1', this)">üß© Identification I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_2_human_skeleton', 'labeling_v2', this)">üß© Identification II</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_2_human_skeleton', 'labeling_v3', this)">üß© Identification III</button>
                    </div>
                </div>

                <!-- TOPIC 3 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 3: Skull & Spine</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'skull_study', this)">üíÄ Learn: Skull</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'labeling_skull_v1', this)">üß© Skull Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'labeling_skull_v2', this)">üß© Skull Quiz II</button>
                        <hr>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'spine_study', this)">ü¶¥ Learn: Spine</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'labeling_spine_v1', this)">üß© Spine Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_3_axial_skull_spine', 'labeling_spine_v2', this)">üß© Spine Quiz II</button>
                    </div>
                </div>

                <!-- TOPIC 4 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 4: Rib Cage</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_4_axial_rib_cage', 'rib_study', this)">ü´Å Learn: Rib Cage</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_4_axial_rib_cage', 'labeling_v1', this)">üß© Ribs Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_4_axial_rib_cage', 'labeling_v2', this)">üß© Ribs Quiz II</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_4_axial_rib_cage', 'labeling_v3', this)">üß© Ribs Quiz III</button>
                    </div>
                </div>

                <!-- TOPIC 5 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 5: Limbs</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'arm_study', this)">üí™ Learn: Arm</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'labeling_arm_v1', this)">üß© Arm Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'labeling_arm_v2', this)">üß© Arm Quiz II</button>
                        <hr>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'leg_study', this)">ü¶µ Learn: Leg</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'labeling_leg_v1', this)">üß© Leg Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_5_appendicular_limbs', 'labeling_leg_v2', this)">üß© Leg Quiz II</button>
                    </div>
                </div>

                <!-- TOPIC 6 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 6: Bone Structure</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_6_bone_structure', 'bone_study', this)">üè≠ Learn: Bone Structure</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_6_bone_structure', 'labeling_bone_v1', this)">üß© Bone Quiz I</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_6_bone_structure', 'labeling_bone_v2', this)">üß© Bone Quiz II</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_6_bone_structure', 'labeling_bone_v3', this)">üß© Bone Quiz III</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_6_bone_structure', 'labeling_bone_v4', this)">üß© Bone Quiz IV</button>
                    </div>
                </div>

                <!-- TOPIC 7 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 7: Joints</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'knee_study_3d', this)">ü¶µ Learn: Knee (3D)</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'labeling_knee_joints_v1', this)">üß© Label Joints 1</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'labeling_knee_joints_v2', this)">üß© Label Joints 2</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'labeling_knee_joints_v3', this)">üß© Label Joints 3</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'synovial_study', this)"> Learn: Synovial Joint</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'labeling_synovial_v1', this)">üß© Synovial Quiz 1</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_7_joints_structure', 'labeling_synovial_v2', this)">üß© Synovial Quiz 2</button>
                    </div>
                </div>

                <!-- TOPIC 8 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 8: Elbow and Hip Joints</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">ELBOW (HINGE)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'elbow_3d_study', this)">üìñ Elbow 3D Study</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'elbow_2d_study', this)">üñºÔ∏è Elbow 2D Study</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'labeling_elbow_3d_v1', this)">üß© Elbow 3D Quiz</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'labeling_elbow_2d_v1', this)">üñºÔ∏è Elbow 2D Quiz</button>
                        <hr>
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">HIP (BALL-AND-SOCKET)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'hip_3d_study', this)">üìñ Hip 3D Study</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'hip_2d_study', this)">üñºÔ∏è Hip 2D Study</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'labeling_hip_3d_v1', this)">üß© Hip 3D Quiz</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_8_hinge_ball-and-socket', 'labeling_hip_2d_v1', this)">üñºÔ∏è Hip 2D Quiz</button>
                    </div>
                </div>

                <!-- TOPIC 9 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 9: Pivot & Gliding</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">NECK (PIVOT)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'neck_pivot_study', this)">üìñ Learn: Neck</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'labeling_neck_pivot_v1', this)">üß© Quiz: Neck</button>
                        <hr>
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">WRIST (GLIDING)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'wrist_gliding_study', this)">üìñ Learn: Wrist</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'labeling_wrist_gliding_v1', this)">üß© Quiz: Wrist</button>
                        <hr>
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">ANKLE (GLIDING)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'ankle_gliding_study', this)">üìñ Learn: Ankle</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'labeling_ankle_gliding_v1', this)">üß© Quiz: Ankle</button>
                        <hr>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_9_pivot_and_gliding', 'quest_skeleton_joints', this)">üìñ Learn: Ankle</button>
                    </div>
                </div>

                <!-- TOPIC 10 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 10: Muscle Types</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">MUSCLE TYPES</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_10_muscular_system_types', 'muscle_types_study', this)">üñºÔ∏è Learn: 3 Types (2D)</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_10_muscular_system_types', 'labeling_muscle_types_V1', this)">üß© Quiz: 3 Types</button>
                    </div>
                </div>

                <!-- TOPIC 11 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 11: Muscle Action</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">MUSCLE ACTION</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'skeletal_muscle_study', this)">üí™ Learn: Skeletal (3D)</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'labeling_arm_muscles', this)">üß© Quiz: Arm Anatomy</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'muscle_action_study', this)">üìñ Learn: Action (2D)</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'labeling_muscle_states_v1', this)">üß© Quiz: States</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'labeling_bone_muscle_connection_v1', this)">üß© Quiz: Connections</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'labeling_flexor_extensor_v1', this)">üß© Quiz: Flexor/Extensor</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_11_muscle_action_antagonistic_pairs', 'muscle_action_procedural', this)"> üí™ Canvas: Flexor/Extensor</button>
                    </div>
                </div>

                <!-- TOPIC 12 -->
                <div class="nav-group">
                    <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 12: Maintenance & Teeth</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; opacity:0.5; padding:5px 15px;">DENTAL ANATOMY (3D)</span>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_12_posture_and_teeth', 'tooth_anatomy_study', this)">ü¶∑ Learn: Tooth Inside</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_12_posture_and_teeth', 'tooth_anatomy_quiz_v1', this)">üß© Quiz: Tooth Parts</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_12_posture_and_teeth', 'teeth_types_study', this)">ü¶∑ Learn: Teeth Types (2D)</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_12_posture_and_teeth', 'teeth_types_quiz_v1', this)">üß© Quiz: Full Dentition</button>
                        <button class="quest-btn" onclick="ManyaRouter.load('science/musklo-skeletal-system', 'quest_12_posture_and_teeth', 'posture_maintenance_study', this)">ü¶∑ Learn: Posture</button>
                    </div>
                </div>

            </div> <!-- END SUBJECT BODY -->
        </div> <!-- END SUBJECT WRAPPER -->

        <!-- ========================== -->
        <!-- üåç SST (WRAPPER)           -->
        <!-- ========================== -->
        <div class="subject-wrapper">
            <div class="subject-header" onclick="toggleSubject(this)" style="color:var(--manya-green);">
                <span>Social Studies</span>
                <span class="subject-chevron">‚ñº</span>
            </div>
            <div class="subject-content-body">
                <div class="nav-group">
                     <div class="nav-header" onclick="toggleSection(this)">
                        <span class="nav-label">Topic 1: Location of Uganda</span>
                        <span class="chevron">‚ñº</span>
                    </div>
                    <div class="nav-content">
                        <span style="font-size:10px; padding:10px; opacity:0.6;">Content coming soon...</span>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</aside>

    <!-- MAIN INTERFACE -->
    <main>
        <header>
            <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <h3 id="quest-title" style="margin:0; font-size:16px; font-weight:700;">Manya Prep Hub</h3>
            <div id="engine-tag" style="font-size:9px; font-weight:800; color:var(--manya-purple); background:var(--manya-purple-light); padding:4px 10px; border-radius:6px; text-transform:uppercase;">Hub Ready</div>
        </header>

        <div id="view-mount">
            <!-- INTRO SPLASH SCREEN -->
            <div class="manya-intro">
                <div class="icon-box">M</div>
                <h1>Manya Smart Learning</h1>
                <p>Empowering Ugandan students for PLE success.</p>
                <div style="margin-top:24px; padding:12px 20px; background:#f1f5f9; border-radius:12px; font-size:13px; font-weight:600; color:var(--text-light);">
                    ‚Üê Select a Topic from the sidebar to begin
                </div>
            </div>
        </div>
    </main>

    <script>

        // SIDEBAR & SECTION LOGIC
        function toggleSection(header) {
            const group = header.parentElement;
            group.classList.toggle('open');
        }
        // Toggle Subject Function
function toggleSubject(header) {
    header.classList.toggle('open');
}
        function toggleSidebar() {
            document.body.classList.toggle('sidebar-open');
        }

        // Close sidebar when clicking outside
        document.addEventListener('mousedown', (e) => {
            const sidebar = document.getElementById('sidebar');
            if (document.body.classList.contains('sidebar-open') && !sidebar.contains(e.target) && !e.target.closest('.mobile-toggle')) {
                toggleSidebar();
            }
        });
    </script>

    <script type="module">
        /**
         * MANYA UNIVERSAL ROUTER
         * Handles routing for Science, Math, SST, and English
         */
        const ENGINE_REGISTRY = {
            "3D_SKELETON": "./app-shell/js/engines/3D-skeleton-engine.js",
            "2D_HOTSPOT":  "./app-shell/js/engines/image-hotspots-engine.js",
            "GALLERY_STUDY": "./app-shell/js/engines/gallery-study-engine.js",
            "PROCEDURAL_CANVAS": "./app-shell/js/engines/procedural-canvas-engine.js",
            "SKELETON_PUPPET": "./app-shell/js/engines/skeleton-puppet-engine.js",
            "SET_THEORY": "./app-shell/js/engines/math-engines/set-theory-engine.js",
            "SET_CLASSIFIER": "./app-shell/js/engines/math-engines/set-classifier-engine.js",
            "SUBSET_GAME": "./app-shell/js/engines/math-engines/subset-game-engine.js",
            "BINARY_GENERATOR": "./app-shell/js/engines/math-engines/binary-generator-engine.js",
            "PIZZA_GAME": "./app-shell/js/engines/math-engines/pizza-game-engine.js",
        };

        window.ManyaRouter = {
            /**
             * load: The Master Loading Function
             * @param {string} categoryPath - e.g. "science/musklo-skeletal-system" or "math/sets"
             * @param {string} folder - The specific quest folder
             * @param {string} variant - The JSON filename (without .json)
             * @param {HTMLElement} btn - The DOM element clicked (for styling)
             */
            load: async (categoryPath, folder, variant, btn) => {
                const mount = document.getElementById('view-mount');
                const title = document.getElementById('quest-title');
                const tag = document.getElementById('engine-tag');

                // 1. UI Updates (Sidebar highlighting)
                document.querySelectorAll('.quest-btn').forEach(b => b.classList.remove('active'));
                if(btn) btn.classList.add('active');
                
                // Auto-close sidebar on mobile
                if(window.innerWidth < 900) document.body.classList.remove('sidebar-open');
                
                // Loading Spinner
                mount.innerHTML = `
                    <div class="manya-loader">
                        <div style="width:30px; height:30px; border:4px solid #e2e8f0; border-top-color:var(--manya-purple); border-radius:50%; animation: spin 1s linear infinite;"></div>
                        <p style="margin-top:15px; font-weight:700; color:var(--manya-purple)">Preparing Quest...</p>
                    </div>
                    <style>@keyframes spin { to { transform: rotate(360deg); } }</style>
                `;

                try {
                    // 2. Resolve Path & Fetch
                    // Robust path construction: content / category / folder / file.json
                    const path = `content/${categoryPath}/${folder}/${variant}.json`;
                    const res = await fetch(encodeURI(path));
                    
                    if(!res.ok) throw new Error(`Quest file not found at: ${path}`);
                    const data = await res.json();

                    // 3. Resolve Engine
                    const engineKey = data.engineType || "3D_SKELETON";
                    const enginePath = ENGINE_REGISTRY[engineKey];
                    
                    if (!enginePath) throw new Error(`Engine type '${engineKey}' is not registered.`);

                    // 4. Update Header Tag (Visual Context)
                    // If it's math, turn it pink. If Science, purple.
                    const isMath = categoryPath.includes('math');
                    tag.innerText = isMath ? "MATHEMATICS" : engineKey.replace('_', ' ');
                    tag.style.background = isMath ? "var(--manya-pink-light)" : "var(--manya-purple-light)";
                    tag.style.color = isMath ? "var(--manya-pink)" : "var(--manya-purple)";

                    // 5. Dynamic Load & Run
                    const module = await import(enginePath);
                    const engine = Object.values(module)[0]; 

                    title.innerText = data.topic || data.variantTitle;

                    // Execute the specific render mode
                    if (data.mode === 'study') {
                        engine.renderStudy(mount, data);
                    } else {
                        // For Math or Quizzes
                        engine.renderLabeling(mount, data);
                    }

                    mount.scrollTop = 0;

                } catch (err) {
                    console.error(err);
                    mount.innerHTML = `<div style="padding:50px; color:red; text-align:center;">
                        <h3 style="margin:0">Failed to launch Quest</h3>
                        <p style="font-size:12px; opacity:0.7; margin-top:10px; font-family:monospace;">${err.message}</p>
                    </div>`;
                }
            }
        };
    </script>
</body>
</html>